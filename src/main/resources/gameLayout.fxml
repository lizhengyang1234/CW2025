<?xml version="1.0" encoding="UTF-8"?>

<?import com.comp2042.GameOverPanel?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.net.URL?>

<!--
  游戏主界面的根容器。
  使用 Pane 作为绝对布局容器，里面手动指定各个控件的坐标。
  Root container of the main game view.
  Uses Pane for absolute positioning of children (manual layoutX/layoutY).
-->
<Pane fx:controller="com.comp2042.GuiController"
      xmlns:fx="http://javafx.com/fxml">

    <!-- 当前下落方块的 4x4 网格 -->
    <GridPane fx:id="brickPanel"
              vgap="1" hgap="1"/>

    <!-- 游戏棋盘外框 + 内部网格 -->
    <BorderPane styleClass="gameBoard" fx:id="gameBoard">
        <center>
            <GridPane fx:id="gamePanel"
                      hgap="1" vgap="1"
                      layoutY="30" layoutX="40"/>
        </center>
    </BorderPane>

    <!-- 暂停按钮（圆形） -->
    <Button fx:id="pauseButton"
            text="⏸"
            layoutX="330" layoutY="20"
            onAction="#pauseGame"
            styleClass="roundPause"/>

    <!-- New Game 按钮（圆形） -->
    <Button fx:id="newGameButton"
            text="N"
            layoutX="330" layoutY="75"
            onAction="#newGame"
            styleClass="roundPause"/>

    <!-- SCORE 标题 -->
    <Label text="SCORE"
           layoutX="330" layoutY="130"
           styleClass="helpInfo"/>

    <!-- 分数数字，绑定到 GuiController.bindScore(...) -->
    <Label fx:id="scoreLabel"
           text="0"
           layoutX="340" layoutY="160"
           styleClass="scoreClass"/>

    <!-- ★★★ LINES 标题 -->
    <Label text="LINES"
           layoutX="330" layoutY="210"
           styleClass="helpInfo"/>

    <!-- ★★★ 行数数字，绑定到 GuiController.bindLines(...) -->
    <Label fx:id="linesLabel"
           text="0"
           layoutX="340" layoutY="240"
           styleClass="scoreClass"/>

    <!-- 下一个方块预览区域（4x4 小网格） -->
    <GridPane fx:id="nextBrickPanel"
              layoutX="330" layoutY="300"
              prefWidth="70" prefHeight="70"
              hgap="1" vgap="1"/>

    <!-- 加分提示 & GAME OVER 面板所在图层 -->
    <Group fx:id="groupNotification"
           layoutX="14" layoutY="203">
        <VBox alignment="CENTER">
            <GameOverPanel fx:id="gameOverPanel"/>
        </VBox>
    </Group>

    <!-- 样式文件 -->
    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>

</Pane>