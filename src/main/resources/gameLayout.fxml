<?xml version="1.0" encoding="UTF-8"?>

<?import com.comp2042.GameOverPanel?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import java.net.URL?>

<Pane fx:controller="com.comp2042.GuiController"
      xmlns:fx="http://javafx.com/fxml">

    <!-- 当前下落方块的 4x4 网格 -->
    <GridPane fx:id="brickPanel"
              vgap="1" hgap="1"/>

    <!-- 游戏棋盘外框 + 内部网格 -->
    <BorderPane styleClass="gameBoard" fx:id="gameBoard">
        <center>
            <GridPane fx:id="gamePanel"
                      hgap="1" vgap="1"
                      layoutY="30" layoutX="40"/>
        </center>
    </BorderPane>

    <!-- ===== 右侧控制区 ===== -->

    <!-- Pause 按钮 -->
    <Button fx:id="pauseButton"
            text="Pause"
            layoutX="335" layoutY="20"
            onAction="#pauseGame"
            styleClass="sideButton"/>

    <!-- New Game 按钮 -->
    <Button fx:id="newGameButton"
            text="Restart"
            layoutX="335" layoutY="75"
            onAction="#newGame"
            styleClass="sideButton"/>

    <!-- ★ 返回主菜单按钮 -->
    <Button fx:id="menuButton"
            text="Menu"
            layoutX="335" layoutY="130"
            onAction="#onReturnToMenu"
            styleClass="sideButton"/>

    <!-- 右侧 HUD：SCORE / BEST / LINES / LEVEL 一整列 -->
    <VBox layoutX="360" layoutY="180" spacing="10">
        <!-- SCORE -->
        <HBox spacing="6">
            <Label text="SCORE" styleClass="titleLabel"/>
            <Label fx:id="scoreLabel"
                   text="0"
                   styleClass="numberLabel"/>
        </HBox>

        <!-- BEST -->
        <HBox spacing="6">
            <Label text="BEST" styleClass="titleLabel"/>
            <Label fx:id="highScoreLabel"
                   text="0"
                   styleClass="numberLabel"/>
        </HBox>

        <!-- LINES -->
        <HBox spacing="6">
            <Label text="LINES" styleClass="titleLabel"/>
            <Label fx:id="linesLabel"
                   text="0"
                   styleClass="numberLabel"/>
        </HBox>

        <!-- LEVEL -->
        <HBox spacing="6">
            <Label text="LEVEL" styleClass="titleLabel"/>
            <Label fx:id="levelLabel"
                   text="1"
                   styleClass="numberLabel"/>
        </HBox>
    </VBox>

    <!-- 下一个方块预览区域（4x4 小网格） -->
    <GridPane fx:id="nextBrickPanel"
              layoutX="365" layoutY="360"
              prefWidth="70" prefHeight="70"
              hgap="1" vgap="1"/>

    <!-- 加分提示 & GAME OVER 面板所在图层 -->
    <Group fx:id="groupNotification"
           layoutX="14" layoutY="203">
        <VBox alignment="CENTER">
            <GameOverPanel fx:id="gameOverPanel"/>
        </VBox>
    </Group>

    <!-- 样式文件 -->
    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>

</Pane>